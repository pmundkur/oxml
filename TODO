
- Fix character content handling for elements.

  content ::= CharData? ((element | Reference | CDataSect | PI | Comment) CharData?)*

  Hence, isolated '&'s or '&'-prefixed non-entity-references are not
  allowed in content.

- Disallow CDATA endings in content

  CharData ::= [^<&]* - ([^<&]* ']]>' [^<&]*)

  Notice that CDATA endings seem allowed in AttValue below

- Handle Attribute values properly

  AttValue ::= '"' ([^<&"] | Reference)* '"' |  "'" ([^<&'] | Reference)* "'"

  Reference ::= EntityRef | CharRef
  EntityRef ::= '&' Name ';'
  CharRef   ::= '&#' [0-9]+ ';' | '&#x' [0-9a-fA-F]+ ';'	